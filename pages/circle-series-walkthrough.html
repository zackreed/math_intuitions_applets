<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometric Series - Convergence and Partial Sums</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/quiz.js"></script>
</head>
<body>
    <div class="page-container">
        <header>
            <a href="../index.html" style="color: #00d9ff; text-decoration: none; font-weight: bold;">&larr; Back to Home</a>
            <h1>üîÑ Geometric Series: Convergence and Partial Sums</h1>
            <p style="font-size: 1.2em; margin-top: 10px;">Visualize infinite series through circle sectors and understand convergence</p>
        </header>
        
        <div class="content">
            <!-- Introduction Section -->
            <div class="section">
                <h2>üéØ Introduction</h2>
                <p>A <strong>geometric series</strong> is a sum where each term is a constant ratio times the previous term. This visualization uses circle sectors to show how an infinite series can converge to a finite value.</p>
                
                <div class="key-concepts">
                    <h4>Key Concept: Geometric Series Formula</h4>
                    <p>A geometric series has the form:</p>
                    <p style="text-align: center; font-size: 1.3em; margin: 15px 0;">
                        \(S = a + ar + ar^2 + ar^3 + \cdots = \sum_{n=0}^{\infty} ar^n\)
                    </p>
                    <p>where \(a\) is the first term and \(r\) is the common ratio.</p>
                    <p style="margin-top: 15px;"><strong>Convergence:</strong> If \(|r| < 1\), the series converges to:</p>
                    <p style="text-align: center; font-size: 1.4em; margin: 15px 0;">
                        \(S = \frac{a}{1 - r}\)
                    </p>
                </div>
            </div>
            
            <!-- Interactive Applet -->
            <div class="section">
                <h2>üé® Circle Sector Visualization</h2>
                <p><strong>Instructions:</strong></p>
                <ol>
                    <li>Each sector represents one term in the series. The area is \(\frac{\pi r^2}{\text{base}^N}\).</li>
                    <li>Click "Next Step" to add more sectors and watch the partial sum grow.</li>
                    <li>Change the base to see different convergence rates (base = 2 means each term is half the previous).</li>
                    <li>Observe how the sectors get smaller and the sum approaches a limit.</li>
                </ol>
                
                <div class="applet-container">
                    <iframe src="../applets/circle-series-viz.html" width="100%" height="850" style="border: none; border-radius: 8px;"></iframe>
                </div>
            </div>
            
            <!-- Guided Explorations -->
            <div class="section">
                <h2>üß™ Guided Explorations</h2>
                
                <div class="exploration" id="exp1">
                    <h4>Exploration 1: Partial Sums</h4>
                    <p><strong>Try this:</strong> Set base = 2 and radius = 6. Click "Next Step" several times.</p>
                    <p><strong>Question:</strong> As you add more sectors (increase N), what happens to the size of each new sector?</p>
                    <div class="options">
                        <div class="option" onclick="selectRadio(this, 'exp1', 'a')">
                            <input type="radio" name="exp1" value="a"> Each new sector is half the size of the previous one.
                        </div>
                        <div class="option" onclick="selectRadio(this, 'exp1', 'b')">
                            <input type="radio" name="exp1" value="b"> All sectors are the same size.
                        </div>
                        <div class="option" onclick="selectRadio(this, 'exp1', 'c')">
                            <input type="radio" name="exp1" value="c"> Each new sector is twice the size of the previous one.
                        </div>
                    </div>
                    <button class="check-btn" onclick="checkAnswer('exp1', 'a')">Check Answer</button>
                    <div class="feedback" id="exp1-feedback"></div>
                </div>
                
                <div class="exploration" id="exp2">
                    <h4>Exploration 2: Convergence</h4>
                    <p><strong>Observe:</strong> Continue adding sectors with base = 2. Watch the "Partial Sum" value.</p>
                    <p><strong>Question:</strong> Does the partial sum keep growing without bound, or does it approach a specific limit?</p>
                    <div class="options">
                        <div class="option" onclick="selectRadio(this, 'exp2', 'a')">
                            <input type="radio" name="exp2" value="a"> It grows without bound (diverges).
                        </div>
                        <div class="option" onclick="selectRadio(this, 'exp2', 'b')">
                            <input type="radio" name="exp2" value="b"> It approaches a specific finite value (converges).
                        </div>
                        <div class="option" onclick="selectRadio(this, 'exp2', 'c')">
                            <input type="radio" name="exp2" value="c"> It oscillates up and down.
                        </div>
                    </div>
                    <button class="check-btn" onclick="checkAnswer('exp2', 'b')">Check Answer</button>
                    <div class="feedback" id="exp2-feedback"></div>
                </div>
                
                <div class="exploration" id="exp3">
                    <h4>Exploration 3: Effect of the Ratio</h4>
                    <p><strong>Try this:</strong> Reset and change base to 3 (each term is 1/3 the previous).</p>
                    <p><strong>Question:</strong> Compared to base = 2, does base = 3 converge faster or slower?</p>
                    <div class="options">
                        <div class="option" onclick="selectRadio(this, 'exp3', 'a')">
                            <input type="radio" name="exp3" value="a"> Faster (terms shrink more quickly).
                        </div>
                        <div class="option" onclick="selectRadio(this, 'exp3', 'b')">
                            <input type="radio" name="exp3" value="b"> Slower (terms shrink more slowly).
                        </div>
                        <div class="option" onclick="selectRadio(this, 'exp3', 'c')">
                            <input type="radio" name="exp3" value="c"> Same rate.
                        </div>
                    </div>
                    <button class="check-btn" onclick="checkAnswer('exp3', 'a')">Check Answer</button>
                    <div class="feedback" id="exp3-feedback"></div>
                </div>
            </div>
            
            <!-- Practice Questions -->
            <div class="section">
                <h2>üìù Practice Questions</h2>
                
                <div class="question" id="q1">
                    <h4>Question 1: Geometric Series Sum</h4>
                    <p>Consider the series \(1 + \frac{1}{2} + \frac{1}{4} + \frac{1}{8} + \cdots\)</p>
                    <p><strong>(a)</strong> What is the first term \(a\)?</p>
                    <div class="number-input">
                        <label>\(a\) =</label>
                        <input type="number" id="q1a-input" step="0.1" placeholder="Enter value">
                    </div>
                    <button class="check-btn" onclick="checkNumericAnswer('q1a', 1, 0.01)">Check Answer</button>
                    <div class="feedback" id="q1a-feedback"></div>
                    
                    <p style="margin-top: 20px;"><strong>(b)</strong> What is the common ratio \(r\)?</p>
                    <div class="number-input">
                        <label>\(r\) =</label>
                        <input type="number" id="q1b-input" step="0.1" placeholder="Enter value">
                    </div>
                    <button class="check-btn" onclick="checkNumericAnswer('q1b', 0.5, 0.01)">Check Answer</button>
                    <div class="feedback" id="q1b-feedback"></div>
                    
                    <p style="margin-top: 20px;"><strong>(c)</strong> Using \(S = \frac{a}{1-r}\), what is the sum of the infinite series?</p>
                    <div class="number-input">
                        <label>\(S\) =</label>
                        <input type="number" id="q1c-input" step="0.1" placeholder="Enter value">
                    </div>
                    <button class="check-btn" onclick="checkNumericAnswer('q1c', 2, 0.01)">Check Answer</button>
                    <div class="feedback" id="q1c-feedback"></div>
                </div>
                
                <div class="question" id="q2">
                    <h4>Question 2: Convergence Test</h4>
                    <p>Which of the following series converge?</p>
                    <p><strong>(a)</strong> \(\sum_{n=0}^{\infty} \left(\frac{3}{4}\right)^n\)</p>
                    <div class="options">
                        <div class="option" onclick="selectRadio(this, 'q2a', 'a')">
                            <input type="radio" name="q2a" value="a"> Converges (because \(|r| = 3/4 < 1\))
                        </div>
                        <div class="option" onclick="selectRadio(this, 'q2a', 'b')">
                            <input type="radio" name="q2a" value="b"> Diverges
                        </div>
                    </div>
                    <button class="check-btn" onclick="checkAnswer('q2a', 'a')">Check Answer</button>
                    <div class="feedback" id="q2a-feedback"></div>
                    
                    <p style="margin-top: 20px;"><strong>(b)</strong> \(\sum_{n=0}^{\infty} 2^n\)</p>
                    <div class="options">
                        <div class="option" onclick="selectRadio(this, 'q2b', 'a')">
                            <input type="radio" name="q2b" value="a"> Converges
                        </div>
                        <div class="option" onclick="selectRadio(this, 'q2b', 'b')">
                            <input type="radio" name="q2b" value="b"> Diverges (because \(r = 2 > 1\))
                        </div>
                    </div>
                    <button class="check-btn" onclick="checkAnswer('q2b', 'b')">Check Answer</button>
                    <div class="feedback" id="q2b-feedback"></div>
                </div>
                
                <div class="question" id="q3">
                    <h4>Question 3: Partial Sum</h4>
                    <p>The partial sum of the first \(n\) terms of a geometric series is:</p>
                    <p style="text-align: center; font-size: 1.2em; margin: 10px 0;">
                        \(S_n = a\frac{1 - r^n}{1 - r}\)
                    </p>
                    <p>For the series \(3 + 1.5 + 0.75 + \cdots\) (where \(a = 3\) and \(r = 0.5\)), what is \(S_5\) (sum of first 5 terms)?</p>
                    <div class="number-input">
                        <label>\(S_5\) =</label>
                        <input type="number" id="q3-input" step="0.01" placeholder="Enter value">
                    </div>
                    <button class="check-btn" onclick="checkNumericAnswer('q3', 5.8125, 0.01)">Check Answer</button>
                    <div class="feedback" id="q3-feedback"></div>
                </div>
            </div>
            
            <!-- Symbolic Computation Section -->
            <div class="section">
                <h2>üñ•Ô∏è Symbolic Computation</h2>
                <p>Use Python with SymPy to calculate geometric series sums and verify convergence.</p>
                
                <div class="sage-container">
                    <h4>Geometric Series Calculator</h4>
                    <p>The code below computes partial sums and the infinite sum (if it converges).</p>
                    
                    <div class="sagecell-python" id="sagecell1">from sympy import *

n = Symbol('n')

# Define the geometric series parameters
a = 1      # First term
r = S(1)/2  # Common ratio (use S() for exact rational)

# Compute partial sum formula: S_n = a(1 - r^n)/(1 - r)
S_n = a * (1 - r**n) / (1 - r)

print(f"Geometric Series: a = {a}, r = {r}")
print(f"\nPartial Sum Formula:")
print(f"S_n = {S_n}")

# Evaluate specific partial sums
for k in [1, 2, 3, 5, 10]:
    partial_sum = S_n.subs(n, k)
    print(f"S_{k} = {partial_sum} = {float(partial_sum):.6f}")

# Infinite sum (if |r| < 1)
if abs(r) < 1:
    S_inf = a / (1 - r)
    print(f"\nInfinite Sum (converges):")
    print(f"S = {S_inf} = {float(S_inf)}")
else:
    print(f"\nSeries diverges (|r| >= 1)")</div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Geometric Series Walkthrough | Built with Claude and Sage | For educational purposes</p>
        </footer>
    </div>
    
    <script>
        sagecell.makeSagecell({
            inputLocation: '.sagecell-python',
            languages: ['python'],
            evalButtonText: 'Run Code'
        });
        
        document.addEventListener('DOMContentLoaded', () => {
            if (window.renderMathInElement) {
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: '$$', right: '$$', display: true},
                        {left: '\\(', right: '\\)', display: false}
                    ]
                });
            }
        });
    </script>
</body>
</html>
